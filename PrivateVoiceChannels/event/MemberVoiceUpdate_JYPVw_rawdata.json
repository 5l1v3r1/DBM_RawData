{
  "name": "MemberVoiceUpdate",
  "temp": "prior",
  "event-type": "22",
  "_id": "JYPVw",
  "actions": [
    {
      "behavior": "1",
      "interpretation": "1",
      "code": "const newUserChannel = tempVars(\"after\").voiceChannel;\nconst oldUserChannel = tempVars(\"prior\").voiceChannel;\nconst TheUser = tempVars(\"after\");\nconst joinChannel = serverVars(\"createVoice\");\nconst parent_ID = joinChannel.parentID;\nconst server = cache.server;\nconst name = TheUser.displayName + \"-private\";\n\nif (newUserChannel == joinChannel) {\n    server.createChannel(name, {type: 'voice', parent: parent_ID}).then(function(channel) {\n        TheUser.setVoiceChannel(channel);\n    }.bind(this)).catch(this.displayError.bind(this));\n}\n\nelse if (oldUserChannel !== joinChannel && oldUserChannel.members.size == 0) {\n    oldUserChannel.delete();\n}",
      "storage": "0",
      "varName": "",
      "name": "Run Script"
    }
  ],
  "temp2": "after"
}